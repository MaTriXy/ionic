<form
    [formGroup]="form"
    novalidate>
    <prompt-form-modal
        [class]="class"
        [title]="title"
        [message]="message"
        [infoMessage]="infoMessage"
        [errorMessage]="errorMessage"
        [noTitle]="noTitle"
        [yesTitle]="yesTitle"
        [readonly]="readonly"
        (no)="onNoClick()"
        (yes)="onYesClick()"
        [data]="data"
        [processing]="processing$ | async"
        [disabled]="disabled"
        [iconTopYes]="data.id?'checkmark':'add'"
        [hideYes]="hideYes"
        [hideNo]="hideNo">
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="username"
            [title]="strings.username">
            <ion-input
                formControlName="username"
                [disableControl]="readonly"
                [autofocus]="true">
            </ion-input>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="email"
            [title]="strings.email">
            <ion-input
                type="email"
                formControlName="email"
                [disableControl]="readonly">
            </ion-input>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="password"
            [title]="strings.password"
            *ngIf="!data.id">
            <ion-input
                type="password"
                formControlName="password"
                [disableControl]="readonly">
            </ion-input>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="dateOfBirth"
            [title]="strings.dateOfBirth">
            <ion-datetime
                [cancelText]="'Cancel'|translate"
                [doneText]="'OK'|translate"
                display-format="DD.MM.YYYY"
                formControlName="dateOfBirth"
                [disableControl]="readonly"></ion-datetime>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="firstName"
            [title]="strings.firstName">
            <ion-input
                formControlName="firstName"
                [disableControl]="readonly">
            </ion-input>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="lastName"
            [title]="strings.lastName">
            <ion-input
                formControlName="lastName"
                [disableControl]="readonly">
            </ion-input>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="groups"
            [title]="strings.groups">
            <select-input
                [items]="groups$ | async"
                formControlName="groups"
                [yesTitle]="'OK'|translate"
                [multiple]="true"
                [disableControl]="readonly">
            </select-input>
        </form-group>
        <ion-list-header>
            <ion-label [color]="readonly?'medium':undefined">{{ strings.roles | translate }}</ion-label>
        </ion-list-header>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="isActive">
            <ion-label class="margin-left-0">{{strings.isActive | translate}}</ion-label>
            <ion-toggle
                slot="end"
                formControlName="isActive"
                [disableControl]="readonly">
            </ion-toggle>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="isStaff">
            <ion-label class="margin-left-0">{{strings.isStaff | translate}}</ion-label>
            <ion-toggle
                slot="end"
                formControlName="isStaff"
                [disableControl]="readonly">
            </ion-toggle>
        </form-group>
        <form-group
            [checkIsDirty]="checkIsDirty"
            [form]="form"
            name="isSuperuser">
            <ion-label class="margin-left-0">{{strings.isSuperuser | translate}}</ion-label>
            <ion-toggle
                slot="end"
                formControlName="isSuperuser"
                [disableControl]="readonly">
            </ion-toggle>
        </form-group>
    </prompt-form-modal>
</form>
